$gtk
reset
class
Enemy
initialize
@args
@x
640;
@y
180;
@hp
100;
@maxhp
@entity_size
state
entity_size;
@speed
1;
pursuePlayer
player_y
if
!@args
geometry
point_inside_circle?
@player_y
<
player_x
+
@speed;
elsif
>
-
render
outputs
sprites
<<
{
x
y
w
h
path
png'
};
tick
player_y;
render;
Game
args;
@player_x
360;
@player_hp
@player_maxhp
@enemies
spawnEnemy
push
new
;
handlePlayerMovement
inputs
up
5;
down
left
right
render_player
labels
text
render_player;
keyboard
key_down
r
handlePlayerMovement;
each
do
|
enemy
@player_y;
false;
game
||
tick;